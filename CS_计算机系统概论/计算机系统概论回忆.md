# 计算机系统概论回忆

2021年暑假短学期上的这门课。（🤔零基础莽的，所以你看到我写的一些称很重要的东西有点幼稚）

好课！你会发现这门课把一些其它cs专业课讲半天讲不懂的地方（用patt搞的一套mini ISA）速通了x

除不辞辛劳地麻烦助教或作者本人外，你还可以参照的资料：

[微算机原理及应用(II)–LC-3_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1uK411J7qK?spm_id_from=333.337.search-card.all.click) 湾湾的网课



### Homework

9个hw，一般是考察对当天上课内容和课本的理解。



### Lab

我们当时增加到了6个lab

##### 1（机器码）: 找1

判断输入的01字符串中有没有连续的3个1。

应该主要有两种做法，传统做法的话可以重点考虑一下循环次数x

偷懒做法的话，感觉之前修过汇编的同学应该比较熟练了，善用左右移x

##### 2（LC-3汇编）: 查找通讯录

涉及到：查找链表（善用几个LD指令，还有我在发现”链表每个地址存的是字符串的首地址“这件事上卡了80多个小时，即读有些东西可能要连LD两次），字符串匹配

##### 3（LC-3汇编）: 循环键盘读取

简单的修改中断向量表尝试x

读懂课本9.1.1.1 privilege, Figure 9.1 PSR, Figure 9.2 Regions of Memory, 9.2.2 Input from the Keyboard好做

##### 4（LC-3汇编）: 化学方程式配平

后来改到占比0分了，我没做x

##### 5（LC-3汇编）: 滑雪！

一个用到DFS的图遍历问题，可参照8.3.3例子，据说先写c再翻译成汇编好写x

##### 6（C语言）: （可选）A机器码汇编器或B汇编语言编译器

A：实现输入一段机器码，输出对应的LC-3汇编代码

B：实现输入一段LC-3汇编代码，输出运行结果

ddl是开学前，可以慢慢写x



### 期末

P702的图一定会考阅读理解，虽然如果今年有助教看到本仓库的话就不一定了

别的还没想起来



### 笔记（Updating...）

##### 浮点数的存储方式





##### 指令的六个处理阶段

1. fetch
2. decode
3. evaluate address
4. fetch operands
5. execute
6. store



##### 三类基本指令

1. 运算指令：ADD，AND，NOT
2. 数据存取指令，如LD，ST
3. 流程控制指令，如BRnzp，JMP

##### LC-3指令集（看P148）

| 机器码 | 指令       | 可接操作数 | 功能                     | 是否改变符号位 |
| ------ | ---------- | ---------- | ------------------------ | -------------- |
| 0001   | ADD        |            | 加                       |                |
| 0101   | AND        |            | 与                       |                |
| 1001   | NOT        |            | 非                       |                |
| 0010   | LD         |            | 取某地址的值             |                |
| 0110   | LDR        |            | 取某地址的值             |                |
| 1010   | LDI        |            | 取某地址的值             |                |
| 0011   | ST         |            | 值存在某地址             |                |
| 0111   | STR        |            | 值存在某地址             |                |
| 1011   | STI        |            | 值存在某地址             |                |
| 1110   | LEA        |            | 取地址                   |                |
| 0000   | BR         |            | 有条件跳转               |                |
| 1100   | JMP        |            | 不论如何跳转             |                |
| 0100   | JSR/JSRR   |            | 调用函数                 |                |
| 1100   | RET        |            | 函数返回                 |                |
| 1000   | RTI        |            | 中断返回（这门课用不到） |                |
| 1111   | TRAP       |            | 结束                     |                |
| 1101   | (Reserved) |            |                          |                |







### 其它

提问/有意见/催更：2365062415（QQ）